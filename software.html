<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>ODMB at UCSB</title>
    <link href="main.css" rel="stylesheet" type="text/css" />
    <meta name="Description" content="ODMB at a glance and most important links" />
    <meta name="Keywords" content="ODMB,UCSB,CMS,CERN,ME11,CSC" />
    <link rel="icon" type="image/png" href="images/odmb_icon.ico" />
  </head>
  
  <body onload="reload()">
    
    <iframe id="headerframe" src="header.html"></iframe>
    
    <script type="text/javascript">
      function reload(){
      var frame = document.getElementById("headerframe").contentDocument;
      frame.getElementById("odmbnav").className = "inactive";
      frame.getElementById("docunav").className = "inactive";
      frame.getElementById("firmnav").className = "inactive";
      frame.getElementById("hardnav").className = "inactive";
      frame.getElementById("softnav").className = "active";
      frame.getElementById("othenav").className = "inactive";
      frame.getElementById("peopnav").className = "inactive";
      frame.contentDocument.location.reload(true);
      }
    </script>
    
    <div class="main">
      <div id="sidebar" class="leftColumn">
	<h3>Quick links</h3>
	<ul>
	  <li><a href="https://github.com/me11/odmbdev">Source code</a></li>
	  <li><a href="http://wimp.physics.ucsb.edu:9991/urn:xdaq-application:lid=20/">odmbdev	page</a></li>
	  <li><a href="http://wimp.physics.ucsb.edu:20011/urn:xdaq-application:lid=30/VMECCGUI_GoTo_General?gt_ypg=Yellow+Page">Yellow	page</a></li>
	</ul>
      </div>
      
      <div class="rightColumn">
	<h1>Setting up odmbdev</h1>
	<p>The custom UCSB ODMB software runs on the standard CMS software in TriDAS/emu.
	This sofware is checked out with the command <br>
	<FONT FACE="courier"> svn co svn+ssh://${USER}@svn.cern.ch/reps/emu/trunk/TriDAS</FONT> <br>
	but this requires privileges and a special compilation. 
	Thus, you can just copy Frank's version in <FONT FACE="courier"> /home/odmb/fg/TriDAS</FONT>
	to your area.<br /><br />

	Then, in the folder <FONT FACE="courier">TriDAS/emu</FONT>, type the following:<br /><br>
	<FONT FACE="courier">
  	git clone git@github.com:me11/odmbdev.git <br>
  	cd odmbdev <br>
  	git update-index --assume-unchanged script/emuslice06-kill-run-and-tail <br>
  	git update-index --assume-unchanged script/kill-run-and-tail <br>
  	git update-index --assume-unchanged script/startwimp.sh <br>
  	git update-index --assume-unchanged script/startme11.sh <br>
  	git update-index --assume-unchanged script/startslice06.sh <br>
  	git update-index --assume-unchanged xml/EMUSlice06Dev.xml <br>
  	git update-index --assume-unchanged xml/EmuME11Dev.xml <br>
  	git update-index --assume-unchanged xml/EmuWimpDev.xml <br>
  	git update-index --assume-unchanged xml/crate-ucsb.xml <br>
	find . -type f -print0 | xargs -0 sed -i 's/9991/9998/g' <br>
	</FONT> <br>
	In the last command, substitute 9998 for your port number.
	The <FONT FACE="courier">--assume-unchanged</FONT> commands ensure that you do not commit the changed port to git.
	</p>
	<br /><br />
      </div>
    </div>
    
    <iframe id="footerframe" src="footer.html"></iframe>    
    
  </body>
</html>
